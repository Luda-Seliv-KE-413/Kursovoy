:imagesdir: images
:toc: macro
:icons: font
:figure-caption: Рисунок
:table-caption: Таблица
:stem: Формула
:sourcedir: CODE


=== Код программы для измерения гликемии (уровня глюкозы в крови)

Для решения задачи измерения гликемии был создан класс задачи MeasureGlycemiaTask код которого представлен ниже.

класс MeasureGlycemiaTask.h
[.source, cpp]
----
#ifndef MEASUREGLYCEMIATASK
#define MEASUREGLYCEMIATASK
#include "thread.hpp" // for OsWrapper::Thread<>

#include <iostream> // for std::cout

class MeasureGlycemiaTask : public IThread
{
public:
  
  MeasureGlycemiaTask (ICalculate& glycemia, ICalculate& temperature, ICalculate& frequency) : 
    mGlycemia(glycemia), mTemperature(temperature), mFrequency(frequency) 
  {
    
  }
  void Execute() override
    {
      for(;;) 
      {
        mFrequency.Calculate();
        mTemperature.Calculate();
        mGlycemia.Calculate();
        Sleep(30000ms); 
      }
    }
  
private:
  ICalculate& mGlycemia;
  ICalculate& mTemperature;
  ICalculate& mFrequency;
};

#endif
----

Для измерения гликемии необходимо получить информацию о частоте кварцевого резонатора, преобразовать частоту в температуру, а температуру уже в значения гликемии.

Коды для получения значений гликемии (класс Glycemia.h)  из температуры (класс Temperature.h) представлены ниже:

класс Glycemia.h
[.source, cpp]
----
#ifndef GLYCEMIA
#define GLYCEMIA

#include "ICalculate.h" //for Calculate
#include <iostream> // for std::cout

//template
class Glycemia : public ICalculate //for Temperature converter Glycemia?
{
public:
  void Calculate() const override
  {
    std::cout << "5.6 Mol/L" << std::endl; //необходимо дописать (данная строка для теста)
  }
  }
};

#endif
----

класс Temperature.h
[.source, cpp]
----
#ifndef TEMPERATURE
#define TEMPERATURE

#include "ICalculate.h" //for Calculate
#include <iostream> // for std::cout

class Temperature : public ICalculate //for Frequency converter Temperature?
{
public:
  void Calculate() const override
  {
    std::cout << "35.6 �" << std::endl;//необходимо дописать (данная строка для теста)
  }
};

#endif
----

Для преобразования (пересчета) значений температуры в значения гликемии используется интерфейс, код которого представлен ниже:

интерфейс ICalculate
[.source, cpp]
----
#ifndef ICALCULATE
#define ICALCULATE

class ICalculate
{
public:
  virtual void Calculate() const=0;
};

#endif
----